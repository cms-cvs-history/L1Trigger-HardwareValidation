
process EcalRctPattTest = {
 
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    source = EmptySource {
    }

    untracked PSet maxEvents = {untracked int32 input = 1}

    # ECAL digis from pattern
    module ecalPattDigis = EcalFEToDigi {
      untracked int32  SuperModuleId = -1 
      untracked string FlatBaseName  = ""
      string DatabaseFileEB          = "TPG.txt"
      string DatabaseFileEE          = ""    
      untracked int32 SkipEvents     = 0
      untracked bool doCompressEt    = true
      untracked bool debugPrintFlag  = false
    }

    # RCT emulator
    include "L1TriggerConfig/L1ScalesProducers/data/L1CaloScalesConfig.cff"

    module rctEmulDigis = L1RCTProducer {
      InputTag ecalDigisLabel = ecalPattDigi
      InputTag hcalDigisLabel = none
      bool useEcal = true
      bool useHcal = false
      FileInPath lutFile = "L1Trigger/RegionalCaloTrigger/data/RCTLUTParameters.txt"
      FileInPath lutFile2 = "L1Trigger/RegionalCaloTrigger/data/RCTHcalScaleFactors.txt"
      untracked bool orcaFileInput = false   # file below will not be used - but is there for info
      FileInPath src = "L1Trigger/RegionalCaloTrigger/data/rct-input-1.dat"
      string rctTestInputFile = "-NONE-"
      string rctTestOutputFile = "-NONE-"
      untracked bool patternTest = true
    }

    sequence emul = { ecalPattDigis, rctEmulDigis }

    # RCT HW digis from JCC
    module rctHwDigis = RctTextToRctDigi {
      string TextFileName = ""
      int32 fileEventOffset = 0
    }

    sequence hw = { rctHwDigis }

    # comparator
    module l1compare = L1Comparator {
      untracked string ETP_dataLabel = ""
      untracked string ETP_emulLabel = ""
      untracked string HTP_dataLabel = ""
      untracked string HTP_emulLabel = ""
      untracked string RCT_dataLabel = "l1RctHwDigis"
      untracked string RCT_emulLabel = "l1RctEmulDigis"
      untracked string GCT_dataLabel = ""
      untracked string GCT_emulLabel = ""
      untracked string GT_dataLabel  = ""
      untracked string GT_emulLabel  = ""
      untracked string DumpFile      = "dump.txt"
      untracked int32  DumpMode      = 0
      untracked vuint32 COMPARE_COLLS= { 0,1,0,0 }
    }
   
    path p = { emul & hw, l1compare }

}